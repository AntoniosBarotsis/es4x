(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{289:function(a,s,e){"use strict";e.r(s);var t=e(38),r=Object(t.a)({},function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"运行"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#运行","aria-hidden":"true"}},[a._v("#")]),a._v(" 运行")]),a._v(" "),e("p",[a._v("ES4X 应用会在安装"),e("code",[a._v("npm")]),a._v("阶段创建"),e("code",[a._v("es4x-launcher")]),a._v("。 如果"),e("code",[a._v("es4x-launcher")]),a._v("还不存在,\n执行命令:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# OR npm install")]),a._v("\n")])])]),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[a._v("提示")]),a._v(" "),e("p",[e("code",[a._v("es4x-launcher")]),a._v("的位置在"),e("code",[a._v("node_modules/.bin/es4x-lancher.*")]),a._v("。")])]),a._v(" "),e("p",[a._v("安装好后, 启动应用非常简单 ::")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" start "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# OR npm start")]),a._v("\n")])])]),e("p",[a._v("这行命令将会在JVM上运行你的应用, 来替换默认的"),e("code",[a._v("npm")]),a._v("操作。使用样例的"),e("em",[a._v("Hello World")]),a._v("\n项目的话, 可以看到像这样的输出:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("Server listening at: http://localhost:8080/\nSucceeded "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" deploying verticle\n")])])]),e("p",[a._v("此时你可以打开浏览器或者使用http客户端, 来和你的应用交互啦:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" localhost:8080\n\nHello from Vert.x Web"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n")])])]),e("h2",{attrs:{id:"没有npm-yarn时怎样运行"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#没有npm-yarn时怎样运行","aria-hidden":"true"}},[a._v("#")]),a._v(" 没有npm/yarn时怎样运行")]),a._v(" "),e("p",[a._v("当发布应用到生产环境时, 通常不会将包管理器和应用绑定在一起。这种情况下不应该使用"),e("code",[a._v("npm")]),a._v("/"),e("code",[a._v("yarn")]),a._v("运行应用。而是像这样:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("./node_modules/.bin/es4x-launcher\n")])])]),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[a._v("提示")]),a._v(" "),e("p",[a._v("自定义应用的启动项也是可以的, 查看帮助:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("./node_modules/.bin/es4x-launcher -help\n")])])])]),a._v(" "),e("h2",{attrs:{id:"配置verticles的数量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置verticles的数量","aria-hidden":"true"}},[a._v("#")]),a._v(" 配置verticles的数量")]),a._v(" "),e("p",[a._v("扩容/缩容"),e("code",[a._v("verticles")]),a._v("的数量(某些情况下可以提升性能), 可以这么做:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# number of verticles to use:")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("N")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  ./node_modules/.bin/es4x-launcher -instances "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$N")]),a._v("\n")])])]),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[a._v("提示")]),a._v(" "),e("p",[a._v("通常增加"),e("code",[a._v("verticles")]),a._v("的数量为cpu核数的两倍, 将会收获最优的性能。")])]),a._v(" "),e("h2",{attrs:{id:"集群"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#集群","aria-hidden":"true"}},[a._v("#")]),a._v(" 集群")]),a._v(" "),e("p",[a._v("和配置"),e("code",[a._v("verticles")]),a._v("的数量一样, ES4X 的集群配置也很简单:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("./node_modules/.bin/es4x-launcher -cluster\n")])])]),e("p",[a._v("要了解关于集群的更多内容, 请参考vert.x的官方文档。")])])},[],!1,null,null,null);s.default=r.exports}}]);