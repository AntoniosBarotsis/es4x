<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>GraalVM | ES for Eclipse Vert.x</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="shortcut icon" type="image/png" href="/es4x/favicon.png">
    <link rel="stylesheet" type="text/css" href="/es4x/player/asciinema-player.css">
    <script src="/es4x/player/asciinema-player.js"></script>
    <meta name="description" content="A Modern JavaScript runtime for Eclipse Vert.x">
    <link rel="preload" href="/es4x/assets/css/0.styles.2263bcb2.css" as="style"><link rel="preload" href="/es4x/assets/js/app.0ada8026.js" as="script"><link rel="preload" href="/es4x/assets/js/2.8321b957.js" as="script"><link rel="preload" href="/es4x/assets/js/12.8b5ef7a4.js" as="script"><link rel="prefetch" href="/es4x/assets/js/10.4eb49677.js"><link rel="prefetch" href="/es4x/assets/js/11.52ac937d.js"><link rel="prefetch" href="/es4x/assets/js/13.9cf9c93b.js"><link rel="prefetch" href="/es4x/assets/js/14.26eacbc1.js"><link rel="prefetch" href="/es4x/assets/js/15.11949549.js"><link rel="prefetch" href="/es4x/assets/js/16.cb77bdad.js"><link rel="prefetch" href="/es4x/assets/js/17.b448b775.js"><link rel="prefetch" href="/es4x/assets/js/18.8a365fe8.js"><link rel="prefetch" href="/es4x/assets/js/19.8be7ff7f.js"><link rel="prefetch" href="/es4x/assets/js/20.973a0d2d.js"><link rel="prefetch" href="/es4x/assets/js/21.d67ee0ba.js"><link rel="prefetch" href="/es4x/assets/js/22.f16269cd.js"><link rel="prefetch" href="/es4x/assets/js/23.b10d0cf0.js"><link rel="prefetch" href="/es4x/assets/js/24.c8f7f5a6.js"><link rel="prefetch" href="/es4x/assets/js/25.25613ada.js"><link rel="prefetch" href="/es4x/assets/js/26.8a076633.js"><link rel="prefetch" href="/es4x/assets/js/27.5531f0af.js"><link rel="prefetch" href="/es4x/assets/js/28.6fbd1580.js"><link rel="prefetch" href="/es4x/assets/js/29.9eb1dfa6.js"><link rel="prefetch" href="/es4x/assets/js/3.5be0044a.js"><link rel="prefetch" href="/es4x/assets/js/30.92b9479f.js"><link rel="prefetch" href="/es4x/assets/js/31.913d2b57.js"><link rel="prefetch" href="/es4x/assets/js/32.d29d7c3d.js"><link rel="prefetch" href="/es4x/assets/js/33.6adf4455.js"><link rel="prefetch" href="/es4x/assets/js/34.f1735afb.js"><link rel="prefetch" href="/es4x/assets/js/35.ed8f46b6.js"><link rel="prefetch" href="/es4x/assets/js/36.71f4afa5.js"><link rel="prefetch" href="/es4x/assets/js/37.b2c774f6.js"><link rel="prefetch" href="/es4x/assets/js/38.b7ebbbf6.js"><link rel="prefetch" href="/es4x/assets/js/39.7287c98c.js"><link rel="prefetch" href="/es4x/assets/js/4.19bb1c74.js"><link rel="prefetch" href="/es4x/assets/js/40.c7b9daff.js"><link rel="prefetch" href="/es4x/assets/js/41.51822e44.js"><link rel="prefetch" href="/es4x/assets/js/42.3b6eb390.js"><link rel="prefetch" href="/es4x/assets/js/5.768d8cba.js"><link rel="prefetch" href="/es4x/assets/js/6.9b2d78bb.js"><link rel="prefetch" href="/es4x/assets/js/7.f4761ae0.js"><link rel="prefetch" href="/es4x/assets/js/8.30641888.js"><link rel="prefetch" href="/es4x/assets/js/9.8bf611cc.js">
    <link rel="stylesheet" href="/es4x/assets/css/0.styles.2263bcb2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/es4x/" class="home-link router-link-active"><!----> <span class="site-name">ES for Eclipse Vert.x</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/es4x/get-started/" class="nav-link">
  Get started
</a></div><div class="nav-item"><a href="/es4x/advanced/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Advanced
</a></div><div class="nav-item"><a href="/es4x/quick-guide/" class="nav-link">
  Quick Guides
</a></div><div class="nav-item"><a href="/es4x/api/" class="nav-link">
  APIs
</a></div><div class="nav-item"><a href="https://github.com/reactiverse/es4x/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/es4x/advanced/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/es4x/zh/advanced/" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/es4x/pt/" class="nav-link">
  Português
</a></li></ul></div></div> <a href="https://github.com/reactiverse/es4x" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/es4x/get-started/" class="nav-link">
  Get started
</a></div><div class="nav-item"><a href="/es4x/advanced/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Advanced
</a></div><div class="nav-item"><a href="/es4x/quick-guide/" class="nav-link">
  Quick Guides
</a></div><div class="nav-item"><a href="/es4x/api/" class="nav-link">
  APIs
</a></div><div class="nav-item"><a href="https://github.com/reactiverse/es4x/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/es4x/advanced/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/es4x/zh/advanced/" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/es4x/pt/" class="nav-link">
  Português
</a></li></ul></div></div> <a href="https://github.com/reactiverse/es4x" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Advanced</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/es4x/advanced/" aria-current="page" class="active sidebar-link">GraalVM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/es4x/advanced/#native-images" class="sidebar-link">Native Images</a></li></ul></li><li><a href="/es4x/advanced/async-errors.html" class="sidebar-link">Async Error Tracing</a></li><li><a href="/es4x/advanced/worker.html" class="sidebar-link">Worker API</a></li><li><a href="/es4x/advanced/graphql.html" class="sidebar-link">Community Projects</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="graalvm"><a href="#graalvm" class="header-anchor">#</a> GraalVM</h1> <p>ES4X uses GraalVM, however the same code will run either in <strong>interpreted</strong> mode on Java 8, 9, 10 and OpenJ9 or
<strong>compiled</strong> mode on JDK &gt;= 11 (with JVMCI support) or GraalVM.</p> <p>There are benefits on using GraalJS namely the updated language support &gt;=ES6 and support out of the box for generators,
promises, etc....</p> <p>Java interop follows the <strong>exact</strong> class/method name from Java. For example, the usage of property names to refer to
getters and setters, must use the <em>getter</em> and <em>setter</em>. For example:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
  
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>When using this Java Object from Graal, this will not work:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> hello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// get the name</span>
<span class="token keyword">var</span> name <span class="token operator">=</span> hello<span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// FAIL</span>
<span class="token comment">// set the name</span>
hello<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Paulo'</span><span class="token punctuation">;</span>  <span class="token comment">// FAIL</span>
</code></pre></div><p>This is not valid in Graal and should be:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> hello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// get the name</span>
<span class="token keyword">var</span> name <span class="token operator">=</span> hello<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// set the name</span>
hello<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">'Paulo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>GraalJS will not allow multi thread access to the same script context. If there is a need to work with multiple
threads, then consider looking at the <a href="./worker">Worker API</a>.</p> <h2 id="native-images"><a href="#native-images" class="header-anchor">#</a> Native Images</h2> <p>Currently you cannot generate native images with ES4X, the limitation is because the static analysis of the AOT compiler
will not take in consideration the java code invoked from the script (so classes won't be available), plus the fact that
the compiler has no support for jvm interop at runtime.</p> <p>There is work in progress in this area so it might be possible in the future.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/reactiverse/es4x/edit/develop/docs/advanced/README.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/28/2019, 8:41:58 AM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/es4x/advanced/async-errors.html">
        Async Error Tracing
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/es4x/assets/js/app.0ada8026.js" defer></script><script src="/es4x/assets/js/2.8321b957.js" defer></script><script src="/es4x/assets/js/12.8b5ef7a4.js" defer></script>
  </body>
</html>
